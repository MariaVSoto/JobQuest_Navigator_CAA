{"ast":null,"code":"var _jsxFileName = \"E:\\\\CAA\\\\Term2\\\\CLO900\\\\Code\\\\jobquest-navigator\\\\front-end\\\\src\\\\context\\\\JobContext.jsx\",\n  _s = $RefreshSig$();\nimport React, { createContext, useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const JobContext = /*#__PURE__*/createContext();\nconst APP_ID = 'd811904d';\nconst API_KEY = 'f6dcebd1ea84828498459295555a1cf2';\nconst COUNTRY = 'us';\nexport const JobProvider = ({\n  children\n}) => {\n  _s();\n  const [jobs, setJobs] = useState([]);\n  const [selectedJob, setSelectedJob] = useState(null);\n  const [filters, setFilters] = useState({\n    search: '',\n    location: '',\n    company: '',\n    type: '',\n    remote: false\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const fetchJobs = async () => {\n      setLoading(true);\n      setError(null);\n      let url = `https://api.adzuna.com/v1/api/jobs/${COUNTRY}/search/1?app_id=${APP_ID}&app_key=${API_KEY}&results_per_page=20`;\n      if (filters.search) url += `&what=${encodeURIComponent(filters.search)}`;\n      if (filters.location) url += `&where=${encodeURIComponent(filters.location)}`;\n      if (filters.company) url += `&company=${encodeURIComponent(filters.company)}`;\n      if (filters.type) url += `&contract_type=${encodeURIComponent(filters.type.toLowerCase())}`;\n      if (filters.remote) url += `&remote=1`;\n      try {\n        const res = await fetch(url);\n        const data = await res.json();\n        if (data.results) {\n          setJobs(data.results);\n        } else {\n          setJobs([]);\n        }\n      } catch (err) {\n        setError('Failed to fetch jobs.');\n        setJobs([]);\n      }\n      setLoading(false);\n    };\n    fetchJobs();\n  }, [filters]);\n  return /*#__PURE__*/_jsxDEV(JobContext.Provider, {\n    value: {\n      jobs,\n      selectedJob,\n      setSelectedJob,\n      filters,\n      setFilters,\n      loading,\n      error\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n_s(JobProvider, \"BKUZm4/HydLPNmO/tu3MGsAAdKg=\");\n_c = JobProvider;\nvar _c;\n$RefreshReg$(_c, \"JobProvider\");","map":{"version":3,"names":["React","createContext","useState","useEffect","jsxDEV","_jsxDEV","JobContext","APP_ID","API_KEY","COUNTRY","JobProvider","children","_s","jobs","setJobs","selectedJob","setSelectedJob","filters","setFilters","search","location","company","type","remote","loading","setLoading","error","setError","fetchJobs","url","encodeURIComponent","toLowerCase","res","fetch","data","json","results","err","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["E:/CAA/Term2/CLO900/Code/jobquest-navigator/front-end/src/context/JobContext.jsx"],"sourcesContent":["import React, { createContext, useState, useEffect } from 'react';\n\nexport const JobContext = createContext();\n\nconst APP_ID = 'd811904d';\nconst API_KEY = 'f6dcebd1ea84828498459295555a1cf2';\nconst COUNTRY = 'us';\n\nexport const JobProvider = ({ children }) => {\n  const [jobs, setJobs] = useState([]);\n  const [selectedJob, setSelectedJob] = useState(null);\n  const [filters, setFilters] = useState({\n    search: '',\n    location: '',\n    company: '',\n    type: '',\n    remote: false,\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchJobs = async () => {\n      setLoading(true);\n      setError(null);\n      let url = `https://api.adzuna.com/v1/api/jobs/${COUNTRY}/search/1?app_id=${APP_ID}&app_key=${API_KEY}&results_per_page=20`;\n      if (filters.search) url += `&what=${encodeURIComponent(filters.search)}`;\n      if (filters.location) url += `&where=${encodeURIComponent(filters.location)}`;\n      if (filters.company) url += `&company=${encodeURIComponent(filters.company)}`;\n      if (filters.type) url += `&contract_type=${encodeURIComponent(filters.type.toLowerCase())}`;\n      if (filters.remote) url += `&remote=1`;\n      try {\n        const res = await fetch(url);\n        const data = await res.json();\n        if (data.results) {\n          setJobs(data.results);\n        } else {\n          setJobs([]);\n        }\n      } catch (err) {\n        setError('Failed to fetch jobs.');\n        setJobs([]);\n      }\n      setLoading(false);\n    };\n    fetchJobs();\n  }, [filters]);\n\n  return (\n    <JobContext.Provider value={{ jobs, selectedJob, setSelectedJob, filters, setFilters, loading, error }}>\n      {children}\n    </JobContext.Provider>\n  );\n}; "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElE,OAAO,MAAMC,UAAU,gBAAGL,aAAa,CAAC,CAAC;AAEzC,MAAMM,MAAM,GAAG,UAAU;AACzB,MAAMC,OAAO,GAAG,kCAAkC;AAClD,MAAMC,OAAO,GAAG,IAAI;AAEpB,OAAO,MAAMC,WAAW,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EAC3C,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACa,WAAW,EAAEC,cAAc,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAACe,OAAO,EAAEC,UAAU,CAAC,GAAGhB,QAAQ,CAAC;IACrCiB,MAAM,EAAE,EAAE;IACVC,QAAQ,EAAE,EAAE;IACZC,OAAO,EAAE,EAAE;IACXC,IAAI,EAAE,EAAE;IACRC,MAAM,EAAE;EACV,CAAC,CAAC;EACF,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGvB,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACwB,KAAK,EAAEC,QAAQ,CAAC,GAAGzB,QAAQ,CAAC,IAAI,CAAC;EAExCC,SAAS,CAAC,MAAM;IACd,MAAMyB,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5BH,UAAU,CAAC,IAAI,CAAC;MAChBE,QAAQ,CAAC,IAAI,CAAC;MACd,IAAIE,GAAG,GAAG,sCAAsCpB,OAAO,oBAAoBF,MAAM,YAAYC,OAAO,sBAAsB;MAC1H,IAAIS,OAAO,CAACE,MAAM,EAAEU,GAAG,IAAI,SAASC,kBAAkB,CAACb,OAAO,CAACE,MAAM,CAAC,EAAE;MACxE,IAAIF,OAAO,CAACG,QAAQ,EAAES,GAAG,IAAI,UAAUC,kBAAkB,CAACb,OAAO,CAACG,QAAQ,CAAC,EAAE;MAC7E,IAAIH,OAAO,CAACI,OAAO,EAAEQ,GAAG,IAAI,YAAYC,kBAAkB,CAACb,OAAO,CAACI,OAAO,CAAC,EAAE;MAC7E,IAAIJ,OAAO,CAACK,IAAI,EAAEO,GAAG,IAAI,kBAAkBC,kBAAkB,CAACb,OAAO,CAACK,IAAI,CAACS,WAAW,CAAC,CAAC,CAAC,EAAE;MAC3F,IAAId,OAAO,CAACM,MAAM,EAAEM,GAAG,IAAI,WAAW;MACtC,IAAI;QACF,MAAMG,GAAG,GAAG,MAAMC,KAAK,CAACJ,GAAG,CAAC;QAC5B,MAAMK,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAI,CAAC,CAAC;QAC7B,IAAID,IAAI,CAACE,OAAO,EAAE;UAChBtB,OAAO,CAACoB,IAAI,CAACE,OAAO,CAAC;QACvB,CAAC,MAAM;UACLtB,OAAO,CAAC,EAAE,CAAC;QACb;MACF,CAAC,CAAC,OAAOuB,GAAG,EAAE;QACZV,QAAQ,CAAC,uBAAuB,CAAC;QACjCb,OAAO,CAAC,EAAE,CAAC;MACb;MACAW,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC;IACDG,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,CAACX,OAAO,CAAC,CAAC;EAEb,oBACEZ,OAAA,CAACC,UAAU,CAACgC,QAAQ;IAACC,KAAK,EAAE;MAAE1B,IAAI;MAAEE,WAAW;MAAEC,cAAc;MAAEC,OAAO;MAAEC,UAAU;MAAEM,OAAO;MAAEE;IAAM,CAAE;IAAAf,QAAA,EACpGA;EAAQ;IAAA6B,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACU,CAAC;AAE1B,CAAC;AAAC/B,EAAA,CA7CWF,WAAW;AAAAkC,EAAA,GAAXlC,WAAW;AAAA,IAAAkC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}